-# coding: utf-8

= simple_form_for @user, :url => '/votes', :html => {:method => :post, :class => "application", :id => "user_vote_form"} do |f|
  = render :partial => '/layouts/messages'
  #content.blue
    #user_votes
      %h2= 'Vote de Valeur'
      .head_row
        .vote_head.minus_two
          .legend
            très hostile
          = image_tag 'votes/smileyMoins2Seul.png', :size => '25x25'
          .value
            \-2
        .vote_head.minus_one
          .legend
            hostile
          = image_tag 'votes/smileyMoins1Seul.png', :size => '25x25'
          .value
            \-1
        .vote_head.zero
          .legend
            indifférent
          = image_tag 'votes/smiley0.png', :size => '25x25'
          .value
            0
        .vote_head.plus_one
          .legend
            favorable
          = image_tag 'votes/smileyPlus1Seul.png', :size => '25x25'
          .value
            +1
        .vote_head.plus_two
          .legend
            très favorable
          = image_tag 'votes/smileyPlus2Seul.png', :size => '25x25'
          .value
            +2
        .clear
      - @candidates.each do |candidate|
        .row
          = f.label "vote_for_candidate_#{candidate.id}", candidate.name
          .input
            - values = (-2..2).to_a.collect{|i| [i, (i==0) ? "%d" % i : "%+d" % i]}
            = f.collection_radio_buttons "vote_for_candidate_#{candidate.id}", values, :first, :last

    #classic_vote.premier_tour
      %h2= 'Vote classique, premier tour'
      - values = @candidates.to_a.collect{|c| [c.id, c.name]}
      - values.each do |v|
        %span
          %input{:type =>'radio', :id => "user_classic_vote_#{v[0]}", :name => 'user[classic_vote]', :value => v[0], :class => 'hidden'}
          %label{:class =>"collection_radio_buttons unselected", :for => "user_classic_vote_#{v[0]}"}= v[1]

  #nextcontainer
    = link_to "Valider", '#', :id => 'next_to_classic', :class => 'next blue'
    = f.submit "Valider", :id => 'submit_votes', :class => 'next grey'
